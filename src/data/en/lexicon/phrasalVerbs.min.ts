import schema = require('../schema');
import opposite = require('./negate');
import verbs = require('../verbs/index');
import conjugated = require('../verbs/conjugate');

  var zip:any = { verbs: 'fire,barge,bash,book,box,butt,cash,fence,opt,rain,wean,wheel,carve,hand,jack,log,peel,sign,type,warm,power,snap,square,wind,back,bottle,buckle,bundle,clean,flag,man,pin,pipe,plump,scrape,slow,fool,gad,root,boss,horse,joke,mess,frighten,tick,zip,bog,calm,hunker,jot,narrow,pat,tone,trickle,fend,gun,hanker,cave,chip,hone,key,pencil,rein,shade,tuck,usher,zero,auction,blast,buzz,cool,goof,level,mouth,nod,pair,reel,rip,round,slice,split,stave,storm,tee,tip,top,bank,bargain,egg,frown,latch,prattle,spur,tack,yammer,bail,black,blank,blurt,branch,cancel,edge,farm,fish,fizzle,flake,flame,flare,flesh,flip,geek,iron,lash,luck,max,nerd,pan,pig,psych,rat,scout,single,sort,spell,stamp,straighten,suss,time,tire,trip,trot,weird,whip,wimp,zone,zonk,bubble,keel,mull,pore,tide,beef,board,bone,boot,cheer,eye,brighten,fatten,fess,firm,free,freshen,fry,fuel,gang,gear,hack,ham,hole,hush,jazz,juice,lap,lighten,loosen,mash,measure,mix,mock,mop,muddle,open,own,patch,prop,rough,rustle,shack,size,sober,spark,spruce,stack,stir,stitch,string,suit,sum,team,tidy,tighten,toss,vacuum,wire,wise,word,abide,ache,angle,bag,ball,bawl,beaver,bed,belt,big,bitch,blare,blaze,bliss,bolster,border,botch,bottom,bowl,brace,breeze,brick,buck,bucket,budge,buff,bug,bulk,bump,bunk,buoy,bust,butter,cap,carried,cart,chalk,chance,chase,chat,chicken,chill,chime,choke,chop,chow,chuck,churn,clag,clam,clamp,clear,click,climb,clog,cloud,clown,coast,cobble,color,conjure,conk,contract,coop,cop,cotton,could,cozy,crank,crash,cream,creep,crop,cruise,crumb,damp,dash,dawn,dine,dish,divide,divvy,dob,dole,doss,double,doze,dredge,drill,drone,drown,drum,dry,duck,duff,dumb,dwell,ease,ebb,eke,embark,empty,faff,fart,fasten,fathom,fawn,ferret,fiddle,filter,fink,fit,flick,flog,floor,flounce,fluff,fob,forge,freak,front,gag,ghost,gin,ginger,gnaw,grass,grey,gussy,hammer,harp,hinge,hive,home,hook,hoon,hose,hound,hover,jabber,jaw,jerk,kip,knuckle,land,large,lark,leak,lean,leap,limber,lord,lust,magic,marry,mete,mill,monkey,mooch,mope,mount,mug,muscle,naff,nag,nail,nip,nose,nut,pad,pal,palm,paper,pare,part,peck,peg,pep,perk,peter,phase,pine,pit,pitch,plant,plate,plead,plough,plow,pluck,poke,polish,pony,poop,pootle,potter,prey,price,pucker,quarrel,queer,quieten,race,rack,rake,ramble,ramp,rap,ratchet,rattle,romp,room,rope,row,saddle,sag,sally,salt,saw,screen,sex,shape,shell,ship,shop,short,shrug,shy,sidle,sift,simmer,skin,skive,slack,slacken,slag,slant,slob,slope,slough,slug,smack,snaffle,snarl,sniff,snitch,snuff,soften,soldier,sound,spaff,spew,spirit,sponge,squeeze,staff,stash,steer,stiffen,stomp,stow,stub,stuff,stump,summon,swan,sweep,syphon,tag,tail,tap,text,toddle,tool,tootle,tow,toy,track,trump,try,vamp,veg,venture,wade,waltz,waste,water,weed,well,while,whisk,white,wig,wiggle,winkle,wrap,wriggle,yack,zoom',
  symmetric: '{"away":[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,295,300,425,462,492,654,709,722,726,940,1175],"on":[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,161,169,220,242,257,261,286,295,300,377,379,410,421,425,458,462,506,600,724,726,729,730,1003,1159,1165],"over":[-1,-1,-1,-1,250,309],"up":[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,165,184,220,232,246,257,295,300,307,309,356,382,-1,407,412,438,593,600,620,646,721,722,729,731,732,733,734,735,736,737,738,739,740,741,742,743,744,769,944,950,1010,1103],"in":[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,161,184,220,232,246,277,300,307,325,326,335,382,412,416,439,492,506,551,554,646,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,785,927,952,968,977,996,1015,1017,164,1068,1086,1089,1103,1204],"together":[-1,-1,246],"into":[-1,309,717,724,726,733,841,926],"for":[-1,717,763],"on with":[726]}',
  asymmetric: '{"off":[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,207,216,324,325,380,452,492,551,709,716,718,719,723,725,731,733,736,737,752,753,755,763,776,777,778,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,818,826,839,866,890,901,932,934,935,939,941,944,949,957,970,976,981,982,992,998,1019,1021,1023,1026,1038,1047,1069,1072,1077,1097,1108,1109,1110,1115,1118,1121,1124,1125,1129,1132,1138,1139,1140,1141,1144,1145,1155,1158,1171,1173,1175,1178,1180,1204],"it":[-1,-1,754,970,1020,1082],"over":[-1,-1,-1,-1,-1,-1,-1,410,559,722,751,753,793,838,845,846,847,848,849,924,961,977,991,1012,1018,1078,1110,1182],"about":[-1,-1,711,745,746,747,748,751,829,901,962,990,1008,1009,1014,1052,1064,1065,1073,1076,1096,1101,1143,1171],"after":[-1,-1,309,765,1058],"ahead":[-1,-1,269,1024],"by":[-1,-1,-1,-1,216,492,743,753,754,906],"round":[-1,-1,720,829,1201],"through":[-1,-1,743,783,818,828,841,880,926,958,979,1018,1093,1094,1116,1135,1172,1189,1190],"along":[-1,184,743,753,880,895,926,963,1100,1174],"around":[-1,-1,-1,-1,241,279,295,720,723,745,746,747,748,749,750,751,754,778,780,829,866,901,962,990,1008,1009,1014,1041,1044,1047,1052,1062,1063,1064,1065,1073,1076,1096,1101,1130,1143,1150,1171,1201],"forth":[-1,-1,1122,1188],"apart":[-1,-1],"out":[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,169,173,179,182,201,225,232,241,251,379,393,405,414,422,438,447,462,-1,601,660,694,733,734,736,737,747,775,781,791,794,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,851,895,909,911,913,914,917,919,923,924,932,933,942,946,947,949,953,957,967,970,974,975,984,985,987,989,997,998,1005,1007,1011,1013,1016,1021,1022,1025,1026,1033,1035,1043,1053,1061,1072,1073,1074,1075,1082,1085,1088,1090,1092,1099,1105,1109,1113,1122,1125,1128,1129,1131,1150,1152,1155,1157,1167,1176,1177,161,1187,1193,1197,1198,1199,1200],"up":[-1,-1,-1,-1,-1,-1,705,-1,-1,-1,-1,-1,-1,-1,182,183,188,195,207,225,251,286,297,330,367,384,411,428,452,507,624,709,711,712,713,715,723,726,727,728,730,747,751,754,773,780,784,788,789,792,794,804,810,815,816,827,829,834,838,841,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,701,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,910,914,915,916,920,922,925,927,928,930,931,933,934,936,937,938,942,945,949,952,954,955,957,960,965,966,969,973,974,978,985,986,987,991,993,997,998,1000,1003,1017,1022,1026,1029,1030,1032,1034,1040,1056,1066,1067,1076,1083,1084,1091,1093,1094,1095,1097,1098,1104,1106,1109,1110,1112,1114,1120,1124,1126,1127,1137,1148,1149,1153,1157,1160,1161,1164,1168,1169,1170,1176,1179,1184,1186,1194,1201],"to":[-1,300,769,865],"forward":[-1,309],"back":[-1,-1,705,-1,-1,-1,-1,161,309,901,991,1079,1093,1094,1119,161],"down":[-1,-1,-1,379,451,627,755,756,757,758,759,760,761,762,779,796,821,901,913,929,951,959,980,981,982,990,994,1001,1042,1048,1049,1071,1075,1079,1082,1107,1136,1159,1183,1192],"on":[705,227,269,549,668,722,732,740,769,795,796,797,798,799,800,801,802,803,828,854,921,971,983,995,1002,1006,1010,1012,1016,1032,1036,1037,1054,1055,1093,1094,1102,1111,1151,1154,1174,161,1203],"in":[-1,195,216,375,410,428,624,677,743,755,766,767,768,769,770,771,772,773,774,775,790,843,926,948,988,1050,1110,1116,1117,1118,1171,1189],"for":[161,209,726,742,747,764,765,796,812,901,907,908,1026,1027,1089,1176,161],"it on":[161,161],"out for":[161,161],"away":[209,242,438,725,731,733,734,752,753,773,912,918,952,957,1004,1014,1028,1045,1046,1059,1082,1087,1123,1156,1158,1162,1166,1181,1191,1195,1196],"into":[710,712,743,755,773,821,822,866,934,977,994,997,1017,1035,1040,1068,1089,1093,1094,1118,1176,1189],"in on":[715,768,769,775,843,1039,1068,1204],"down on":[718,951,956,1048],"away from":[725,1133],"off from":[725],"off on":[726,792,1023],"with":[726,731,745,751,1050,1080,1105,1120,1174,1182],"out of":[730,804,968,999,1199,1202],"to it":[730],"off against":[731],"up to":[731,858,942,973,1040,1134],"under":[735,1049],"yourself down":[742],"together":[743,883,895,964],"about with":[751],"around with":[751],"away at":[767,912,1031,1035],"off with":[784,1023,1176],"on to":[799],"onto":[799,802,1010,1026,1174],"out on":[804,821,977,984,1099],"out against":[821],"out at":[821,1055],"of":[837,1147],"off to":[839],"up on":[852,864,931,977,1067],"up against":[864,892],"towards":[865],"upon":[943,1002,1006,1037,1055,1102],"do with":[972],"as":[991],"up as":[991],"down through":[994],"in with":[1017],"out with":[1017],"off onto":[1023],"at":[1031,1055,1070,1081,1095,1150,1182],"up in":[1050],"it up":[1051,1052],"up for":[1056],"it over":[1057],"against":[1088],"it in":[1110],"toward":[1142],"it out":[1146],"clear of":[1163]}' }
export = (function () {
				var res = {particleRegex:''};
				var allVerbs = conjugated.irregulars.map(function(o){
					return o.infinitive;
				}).concat( verbs, zip.verbs.split(',') );

				var regexArr = [];
				function buildPhrasals(t) {
					var o = JSON.parse(zip[t]);
					for (var k in o) {
						o[k].reduce(function (h, i) {
							h[allVerbs[i]+' '+ k] = 'VBP';
							if (regexArr.indexOf(k) < 0) {
								regexArr.push(k);
							}
							if (t === 'symmetric' && opposite.hasOwnProperty(k)) {
								h[allVerbs[i]+' '+ opposite[k]] = 'VBP';
								if (regexArr.indexOf(opposite[k]) < 0) {
									regexArr.push(opposite[k]);
								}
							}
							return h;
						}, res);
					}
				}
				['symmetric', 'asymmetric'].forEach(buildPhrasals);

				res.particleRegex = ['^(.*?)(', regexArr.join('|'), ')$'].join('');
				return res;
			})();